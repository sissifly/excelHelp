###### 一、背景
**1. HTTP发展历史**
![](images/HTTP2graphic.png)

* HTTP/0.9 只用一行协议就启动了万维网该版本极其简单，只有一个命令GET。
* HTTP/1.0 则是对流行的 HTTP/0.9 扩展，增加了头信息等。
* HTTP/1.1 进一步完善了 HTTP 协议，一直用到了20年后的今天，直到现在还是最流行的版本。
* 2009年，谷歌公开了自行研发的 SPDY 协议，主要解决 HTTP/1.1 效率不高的问题。2015年，HTTP/2 发布。HTTP2.0可以说是SPDY的升级版



**2. HTTP2产生背景**

新事物诞生多源于旧事物的痛点，HTTP/2也一样。

SPDY 最初由 Google 开发，2009 年年中发布，主要目标是通过解决 HTTP/1.1 中广为人知的一些性能限制来减少网页的加载延迟。2012 年，该协议得到了 Chrome、Firefox 和 Opera 的支持，越来越多的网站（如 Google、Twitter、Facebook）开始使用SPDY。HTTP 工作组 (HTTP-WG) 随之将此提上议事日程，在SPDY 基础上制定了官方“HTTP/2”标准。2015 年初，IESG 审阅了新的 HTTP/2 标准并批准发布。

**3. HTTP1.X痛点**

**1. 连接复用性**

HTTP/1.0中，默认使用的是短连接，**每个TCP连接只能发送一个请求**。TCP连接的新建成本很高，需要客户端和服务器三次握手，同时还存在慢启动问题。  
![](images/TCP.png)


**2. Head-of-line blocking**
 
**HTTP/1.1，默认使用长连接**，即TCP连接默认不关闭，可以被多个请求复用。HTTP/1.1支持请求的流水线（Pipelining）处理。

* 依然存在问题：  
1）keep-alive 使用多了也会给服务端带来大量的性能压力，并且对于单个文件被不断请求的服务，因为文件被请求之后还保持了不必要的连接时间，keep-alive可能会极大的影响服务器的性能  
2）HTTP/1.x有严格的串行返回响应机制，通过 TCP 连接返回响应时，前一个响应没有完成，下一个响应就不能返回，如果第一个响应时间很长，那么后面的响应处理完了也无法发送，只能被缓存起来，占用服务器内存。即线头阻塞（Head-of-line blocking）



*2. 浏览器阻塞*

浏览器会因为一些原因阻塞请求。浏览器对于同一个域名，同时只能有4个连接（这个根据浏览器内核不同可能会有所差异），超过浏览器最大连接数限制，后续请求就会被阻塞。

HTTP/1.x 不会压缩请求和响应标头，从而导致不必要的网络流量；

HTTP/1.x 不支持有效的资源优先级，致使底层 TCP 连接的利用率低下；

这些限制并不是致命的，但是随着网络应用的范围、复杂性以及在我们日常生活中的重要性不断增大，它们对网络开发者和用户都造成了巨大负担，而这正是 HTTP/2 要致力于解决的：
http2标准于2015年2月获得批准，大多数高版本的浏览器已经支持它。[查看支持情况](https://caniuse.com/#search=http2)

**二. HTTP2优势**

[点击这里查看](https://http2.akamai.com/demo)

###### 三、HTTP2新特性
* 1.多路复用
Multiplexing and concurrency
Stream dependencies
Header compression
Server push

###### 四、HTTP2对开发者启示
浏览器客户端在同一时间，针对同一域名下的请求有一定数量限制。超过限制数目的请求会被阻塞

###### 五、实际使用情况










